<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini App</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #fff;
        overflow-x: hidden;
    }

    .screen {
        display: none;
        padding: 20px;
    }

    .active {
        display: block;
    }

    /* Loader */
    #loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255,255,255,0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 22px;
        z-index: 1000;
        display: none;
    }

    /* Welcome Slider */
    .slider-container {
        width: 100%;
        overflow: hidden;
        position: relative;
    }

    .slides {
        display: flex;
        width: 300%;
        transition: transform .3s ease;
    }

    .slide {
        width: 100%;
        flex-shrink: 0;
        text-align: center;
    }

    .slide img {
        width: 75vw;
        max-height: 70vh;
        object-fit: contain;
        margin-top: 20px;
        border-radius: 12px;
    }

    .action-btn {
        margin-top: 20px;
        padding: 12px 20px;
        width: 80%;
        background: #007bff;
        color: #fff;
        border-radius: 8px;
        border: none;
        font-size: 18px;
    }

    /* Choose screen */
    .option {
        padding: 15px;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 18px;
    }

    .option img {
        width: 50px;
        height: 50px;
    }

    .desc {
        color: #555;
        font-size: 15px;
        margin: 15px 0;
    }

    /* Payment */
    select, input {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        font-size: 16px;
    }

    .pay-box {
        margin-top: 20px;
        padding: 15px;
        background: #f7f7f7;
        border-radius: 10px;
        font-size: 16px;
    }
</style>
</head>
<body>

<div id="loader">Загрузка...</div>

<!-- Welcome Screen -->
<div id="welcome" class="screen active">
    <div class="slider-container" id="slider">
        <div class="slides" id="slides">
            <div class="slide"><img src="https://picsum.photos/400/700?1"></div>
            <div class="slide"><img src="https://picsum.photos/400/700?2"></div>
            <div class="slide">
                <img src="https://picsum.photos/400/700?3">
                <button class="action-btn" onclick="transitionTo('choose')">Действие</button>
            </div>
        </div>
    </div>
</div>

<!-- Choose Screen -->
<div id="choose" class="screen">
    <h2>Выберите параметр</h2>

    <div class="desc">Это небольшое описание параметров. Текст пример.</div>

    <div class="option" onclick="selectOption('Параметр A', 10)">
        <img src="https://picsum.photos/50/50?11">
        Параметр A — 10 USDT
    </div>

    <div class="desc">Ещё одно описание, просто рандомный текст.</div>

    <div class="option" onclick="selectOption('Параметр B', 25)">
        <img src="https://picsum.photos/50/50?22">
        Параметр B — 25 USDT
    </div>

    <div class="desc">Небольшое пояснение перед третьим параметром.</div>

    <div class="option" onclick="selectOption('Параметр C', 50)">
        <img src="https://picsum.photos/50/50?33">
        Параметр C — 50 USDT
    </div>
</div>

<!-- Payment Screen -->
<div id="payment" class="screen">
    <h2>Оплата</h2>
    <p id="chosenInfo"></p>

    <label>Выберите валюту:</label>
    <select id="currency" onchange="updatePayment()">
        <option value="USDT">USDT</option>
        <option value="BTC">BTC</option>
        <option value="ETH">ETH</option>
        <option value="LTC">LTC</option>
        <option value="USDC">USDC</option>
        <option value="SOL">SOL</option>
    </select>

    <div class="pay-box">
        <div>Сумма к оплате:</div>
        <div id="amount">—</div>
        <hr>
        <div>Адрес для оплаты:</div>
        <div id="wallet">—</div>
    </div>
</div>

<script>
/* Slider */
let startX = 0;
let index = 0;
const slides = document.getElementById('slides');

document.getElementById('slider').addEventListener('touchstart', e => startX = e.touches[0].clientX);
document.getElementById('slider').addEventListener('touchend', e => {
    const diff = e.changedTouches[0].clientX - startX;
    if (diff < -50 && index < 2) index++;
    if (diff > 50 && index > 0) index--;
    slides.style.transform = `translateX(-${index * 100}%)`;
});

/* Loader */
function showLoader(cb) {
    const loader = document.getElementById('loader');
    loader.style.display = 'flex';
    setTimeout(() => {
        loader.style.display = 'none';
        cb();
    }, 1200);
}

/* Transition */
function transitionTo(screen) {
    showLoader(() => {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screen).classList.add('active');
    });
}

/* Options */
let chosen = { name: '', price: 0 };

function selectOption(name, price) {
    chosen = { name, price };
    transitionTo('payment');
    document.getElementById('chosenInfo').innerText = `Вы выбрали: ${name} (${price} USDT)`;
    updatePayment();
}

/* Exchange rates */
const rates = {
    USDT: 1,
    USDC: 1,
    BTC: 1 / 65000,
    ETH: 1 / 3000,
    LTC: 1 / 75,
    SOL: 1 / 150
};

const wallets = {
    USDT: "TXYZ123456789USDT",
    USDC: "USDC987654321XYZ",
    BTC: "bc1qbitcoinaddress123",
    ETH: "0xEthereumAddressABC123",
    LTC: "ltc1LitecoinAddress567",
    SOL: "SolanaAddressABC987"
};

function updatePayment() {
    const cur = document.getElementById("currency").value;
    const converted = (chosen.price * rates[cur]).toFixed(6);
    document.getElementById("amount").innerText = converted + " " + cur;
    document.getElementById("wallet").innerText = wallets[cur];
}
</script>

</body>
</html>
