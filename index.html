<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini App</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #fff;
        overflow-x: hidden;
    }

    .screen {
        display: none;
        padding: 20px;
    }

    .active {
        display: block;
    }

    /* --- Welcome Screen --- */
    .slider-container {
        width: 100%;
        overflow: hidden;
        position: relative;
    }

    .slides {
        display: flex;
        width: 300%;
        transition: transform .3s ease;
    }

    .slide {
        width: 100%;
        flex-shrink: 0;
        text-align: center;
    }

    .slide img {
        width: 90%;
        margin-top: 20px;
        border-radius: 12px;
    }

    .action-btn {
        margin-top: 20px;
        padding: 12px 20px;
        width: 80%;
        background: #007bff;
        color: #fff;
        border-radius: 8px;
        border: none;
        font-size: 18px;
    }

    /* --- Choose screen --- */
    .option {
        padding: 15px;
        margin: 10px 0;
        border: 1px solid #ccc;
        border-radius: 12px;
        font-size: 18px;
    }

    .option:hover {
        background: #f1f1f1;
    }

    /* --- Payment --- */
    select, input {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        font-size: 16px;
    }

    .pay-box {
        margin-top: 20px;
        padding: 15px;
        background: #f7f7f7;
        border-radius: 10px;
        font-size: 16px;
    }
</style>
</head>
<body>

<!-- WELCOME SCREEN -->
<div id="welcome" class="screen active">
    <div class="slider-container" id="slider">
        <div class="slides" id="slides">
            <div class="slide"><img src="https://picsum.photos/300/500?1"></div>
            <div class="slide"><img src="https://picsum.photos/300/500?2"></div>
            <div class="slide">
                <img src="https://picsum.photos/300/500?3">
                <button class="action-btn" onclick="openChoose()">Действие</button>
            </div>
        </div>
    </div>
</div>

<!-- CHOOSE SCREEN -->
<div id="choose" class="screen">
    <h2>Выберите параметр</h2>
    <div class="option" onclick="selectOption('Параметр A', 10)">Параметр A — 10 USDT</div>
    <div class="option" onclick="selectOption('Параметр B', 25)">Параметр B — 25 USDT</div>
    <div class="option" onclick="selectOption('Параметр C', 50)">Параметр C — 50 USDT</div>
</div>

<!-- PAYMENT SCREEN -->
<div id="payment" class="screen">
    <h2>Оплата</h2>
    <p id="chosenInfo"></p>

    <label>Выберите валюту:</label>
    <select id="currency" onchange="updatePayment()">
        <option value="USDT">USDT</option>
        <option value="BTC">BTC</option>
        <option value="ETH">ETH</option>
        <option value="LTC">LTC</option>
        <option value="USDC">USDC</option>
        <option value="SOL">SOL</option>
    </select>

    <div class="pay-box">
        <div>Сумма к оплате:</div>
        <div id="amount">—</div>
        <hr>
        <div>Адрес для оплаты:</div>
        <div id="wallet">—</div>
    </div>
</div>

<script>
/* ========== WELCOME SLIDER SWIPE ========== */
let startX = 0;
let index = 0;
const slides = document.getElementById('slides');

document.getElementById('slider').addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
});
document.getElementById('slider').addEventListener('touchend', e => {
    const diff = e.changedTouches[0].clientX - startX;
    if (diff < -50 && index < 2) index++;
    if (diff > 50 && index > 0) index--;
    slides.style.transform = `translateX(-${index * 100}%)`;
});

/* ========== NAVIGATION ========== */
function openChoose() {
    document.getElementById('welcome').classList.remove('active');
    document.getElementById('choose').classList.add('active');
}

let chosen = { name: "", price: 0 };

function selectOption(name, price) {
    chosen = { name, price };
    document.getElementById('choose').classList.remove('active');
    document.getElementById('payment').classList.add('active');

    document.getElementById('chosenInfo').innerText =
        `Вы выбрали: ${name} (${price} USDT)`;

    updatePayment();
}

/* ========== EXCHANGE RATES (пример фиксированных) ========== */
const rates = {
    USDT: 1,
    USDC: 1,
    BTC: 1 / 65000,
    ETH: 1 / 3000,
    LTC: 1 / 75,
    SOL: 1 / 150
};

/* Фейковые адреса кошельков */
const wallets = {
    USDT: "TXYZ123456789USDT",
    USDC: "USDC987654321XYZ",
    BTC: "bc1qbitcoinaddress123",
    ETH: "0xEthereumAddressABC123",
    LTC: "ltc1LitecoinAddress567",
    SOL: "SolanaAddressABC987"
};

function updatePayment() {
    const cur = document.getElementById("currency").value;
    const converted = (chosen.price * rates[cur]).toFixed(6);

    document.getElementById("amount").innerText = converted + " " + cur;
    document.getElementById("wallet").innerText = wallets[cur];
}
</script>

</body>
</html>
